const e=document.querySelector("#questions-amount"),t=document.querySelector("#category"),c=document.querySelector("#level"),r=document.querySelector("#time"),s=document.querySelector(".start"),n=document.querySelector(".start-display");document.querySelector(".settings");const l=document.querySelector(".game-display"),o=document.querySelector(".bar"),a=document.querySelector(".answers-container");let d=[],i,u,y,m=0;const q=e=>{let t=e/u*100;o.style.width=`${t}%`};async function L(){let r=e.value,s=t.value,o=c.value,a=`https://opentdb.com/api.php?amount=${r}&category=${s}&difficulty=${o}&type=multiple`,i=await fetch(a);d=(await i.json()).results,setTimeout(()=>{n.classList.add("hide"),l.classList.remove("hide"),y=1,S(d[0])},1e3)}const S=e=>{document.querySelector(".question-text").innerHTML=`
    ${y} / ${d.length} ${e.question}`;let t=[...e.incorrect_answers,e.correct_answer.toString()];a.innerHTML="",t.sort(()=>Math.random()-.5),t.forEach(e=>{a.innerHTML+=`
      <div class="answer">
      <span class="text">${e}</span>
      <span class="checkbox">
        <span class="icon">\u{2713}</span>
      </span>
      </div>
      `});let c=document.querySelectorAll(".answer");c.forEach(e=>{e.addEventListener("click",()=>{e.classList.contains("checked")||(c.forEach(e=>{e.classList.remove("selected")}),e.classList.add("selected"),p.disabled=!1)})}),h(u=r.value)},h=e=>{i=setInterval(()=>{e>=0?(q(e),e--):w()},1e3)},p=document.querySelector(".submit"),v=document.querySelector(".next");p.addEventListener("click",()=>{w()}),v.addEventListener("click",()=>{f(),p.style.display="flex",v.style.display="none"});const w=()=>{clearInterval(i);let e=document.querySelector(".answer.selected");e?e.querySelector(".text").innerHTML===d[y-1].correct_answer?(m++,e.classList.add("correct")):(e.classList.add("incorrect"),document.querySelectorAll(".answer").forEach(e=>{e.querySelector(".text").innerHTML===d[y-1].correct_answer&&e.classList.add("correct")})):document.querySelectorAll(".answer").forEach(e=>{e.querySelector(".text").innerHTML===d[y-1].correct_answer&&e.classList.add("correct")}),document.querySelectorAll(".answer").forEach(e=>{e.classList.add("checked")}),p.style.display="none",v.style.display="flex"},f=()=>{y<d.length?S(d[++y-1]):g()},$=document.querySelector(".results-display"),E=document.querySelector(".final-score"),g=()=>{$.classList.remove("hide"),l.classList.add("hide"),E.innerHTML=`You scored ${m} / ${d.length}`};E.innerHTML=`You scored ${m} / ${d.length}`,document.querySelector(".restart").addEventListener("click",()=>{window.location.reload()}),s.addEventListener("click",L);
//# sourceMappingURL=index.4b650744.js.map
